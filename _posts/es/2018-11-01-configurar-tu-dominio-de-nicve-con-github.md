---
title: Configurar tu dominio de nic.ve con GitHub
layout: post
tags: [github, cname, dns, nic.ve, blog]
categories: [blog]
lang: es
excerpt_separator: <!--more-->
---

> DISCLAIMER

> El panel de [nic.ve](http://nic.ve) ha cambiado (para mal...) bastante, las 
imágenes ya no son exáctamente fieles a lo que verás, pero la idea sigue siendo
la misma.

¿Cuántas veces has querido hacerle una documentacion supercalifragilística a tu repositorio? (_como la de [Bootstrap](http://getbootstrap.com/)_). 

<!--more-->

Te haces tu megalibreria _arrechiksima_, la hosteas en [GitHub](https://github.com/), luego vas [nic.ve](http://nic.ve/) porque quieres un dominio pero tambien queires comer, compras el dominio (te sientes como carajito con juguete nuevo), listo, ya tengo nombre.

## Lo que haces 

Vas a help center de GitHub, buscas la sección donde hablan de dominios personalizados ([esta](https://help.github.com/articles/using-a-custom-domain-with-github-pages/)) y notas que hablan mucho de _DNS provider_. Si te pasa como a mi que sabes de redes que empieza por `R` y termina en `EDES`) seguro quedas así:

![no-idea-doggo](http://i.imgur.com/l3HFGBT.png)

## Lo que me pasó

Hablando de esto en el grupo de [PHP.ve](https://telegram.me/PHP_Ve) y entre tanta Offtopic el pana [@foursixnine](https://t.me/foursixnine) dice que servicio de hospedaje [cdmon](https://www.cdmon.com) ofrece justo lo que necesitamos.

Y con la magia del _timelapse_ luego de 3 dias de prueba, ahora vamos a echar el cuento de como resolví.

## Le solucione

Resulta que la _mayoria_ (*NO TODOS*) los registros de dominios traen su propio servicio de hospedaje dns, pero hay unos que no (_hola nic.ve_). Asi que lo primero que necesitamos es un Servidor DNS (hola cdmon) al que apuntar a nuestro dominio reluciente y acabado de comprar. 

### Servidor DNS

Vamos directico [Al Registro en cdmon], la charla regular, llena el formulario, valida el email. [Logueas](https://admin.cdmon.com/es/acceso)(https://admin.cdmon.com/es/registro).

![](http://i.imgur.com/LsRJ6GP.png)

Haces clic en *DNS Gratuito*

![](http://i.imgur.com/mdP2ojU.png)

Luego en *DNS estático* y Voilà ya tienes las direcciones del servicio DNS para tu dominio. Son estas por si acaso:


|Direccion | IP
| ns1.cdmon.net | 46.16.61.24
| ns2.cdmon.net | 46.16.60.60 
| ns3.cdmon.net | 95.211.8.207


Aguanta esto en una pestaña, vamos ahora al _adorable_ panel de nic.ve (¿A quien quiero engañar? da cáncer).

### Apuntar el dominio al Servidor DNS

![](http://i.imgur.com/xo7nYtW.png)

Seleccionamos *Configurar DNS* y sale un formulario con 5 inputs. Si, ahi van las direcciones, sigue el asistente, espera los emails, llena los captcha, luego de toda la dilia, te debe quedar algo parecido a esto:

![](http://i.imgur.com/TGWePRe.png)

Ya puedes cerrar esta pestaña, dale tiempo a que se apliquen los cambios, 24h-48h dependiendo de tu suerte (a mi me tomo un par de horas) para que se apliquen los cambios, mientras tanto, puedes ir preparando el terreno en cdmon.

### Apuntando las DNS a GitHub.

En el panel de cdmon

![](http://i.imgur.com/1MIBlUi.png)

Apachurras *Añadir dominio*, aceptas la chachara legal y llenas el nombre del dominio, aceptas y haces clic al nombre de tu dominio. 

En esta seccion, le indicaras al servidor DNS hacia donde apuntará tu dominio, en nuestro caso GitHub, para ponerlo simple, usaremos el caso de éste mismo sitio que estas leyendo, usaremos el dominio principal (_apex domain_) para apuntar al gh-pages.

Necesitamos crear un registros `CNAME` para el dominio principal (ese se identifica con `@`).

En esta pantalla omite todo y ve directo a *Alias (Registros CNAME)*, apachurra *Añadir*.

![](http://i.imgur.com/qfO6C84.png)

Selecciona *El web con y sin www* y en la direccion de destino escribes `<github-username>.github.io` (tu ves con que reemplazas `<github-username>` campeón), y apachurras guardar. Debería quedar algo así:

![](http://i.imgur.com/VS3II7K.png)

Dale su tiempito también, debe tomar un par de horas a lo mucho.

Para asegurarte que todo está apuntando correctamente, hazle `dig` a `<github-username>.github.io` y a tu dominio, así:

```bash
$ dig <tudominio.com.ve> +nocmd +nocomments +nostats
```

```bash
$ dig <github-username>.github.io +nocmd +nocomments +nostats
```

Ambos deben tener al final una fila como esta

```
<quien-sabe-que-cdn-o-dns-loca>. <numero-aleatorio>	IN	A	<una-ip>
```

La ip en ambas debe ser la misma, si todo va bien, ahora vamos a GitHub.

### Configurando el repositorio

Entra en tu repositorio _arrechiksimo_ y ve directo a los Settings.

![](http://i.imgur.com/0Z0AUHA.png)

Sálta todo y ve directo a *GitHub Pages* -> *Custom Domain*

![](http://i.imgur.com/Jp0yP3R.png)

En ese input pones tu dominio que acabas de configurar luego de tanto esfuerzo. Le das Guardar y GitHub hará un commit por ti creando un archivo llamado `CNAME` con el valor del dominio que recién acabas de poner.

Listo, ya el repositorio responde al dominio personalizado, si `dig` te dio las salidas correctas, tu repositorio responde a GitHub, ¿Ya está? No, bueno si, si has usado tu rama gh-pages automáticamente se cargará el contenido que solía estar en `<github-username>.github.io` ahora a través de `<tudominio.com.ve>`. 

Pero si en tu vida sabias que se podia usar esa rama, pues ahi va la documentación que quieres montar. En tu local haces 

```bash
$ git checkout -b gh-pages
```

Y en esa rama, arma tu documentación.

> **PRO-TIP:** Lo que armes tiene que ser HTML Plano. GitHub **NO EJECUTA** _SERVER SIDE CODE_, (salvo una excepción con algo en ruby pero me dio flojera leer).

Y bueno, ya debería funcionar, sino sigue _gugleando_ mijo...